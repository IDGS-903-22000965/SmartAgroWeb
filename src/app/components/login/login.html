<!-- src/app/components/login/login.html -->
<div class="login-page">
  <div class="login-container">
    <div class="login-background">
      <div class="background-overlay"></div>
    </div>
    
    <div class="login-content">
      <div class="login-form-container">
        <div class="login-header">
          <div class="logo">
            <span class="logo-icon">ğŸŒ±</span>
            <span class="logo-text">SmartAgro</span>
          </div>
          <h1>Iniciar SesiÃ³n</h1>
          <p>Accede a tu cuenta para gestionar tus sistemas de riego</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          @if (error()) {
            <div class="alert alert-error">
              <span class="alert-icon">âš ï¸</span>
              {{ error() }}
            </div>
          }

          <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <div class="input-container">
              <span class="input-icon">ğŸ“§</span>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.error]="isFieldInvalid('email')"
                placeholder="tu@email.com"
                autocomplete="email">
            </div>
            @if (getFieldError('email')) {
              <span class="field-error">{{ getFieldError('email') }}</span>
            }
          </div>

          <div class="form-group">
            <label for="password" class="form-label">ContraseÃ±a</label>
            <div class="input-container">
              <span class="input-icon">ğŸ”’</span>
              <input
                [type]="showPassword() ? 'text' : 'password'"
                id="password"
                formControlName="password"
                class="form-input"
                [class.error]="isFieldInvalid('password')"
                placeholder="Tu contraseÃ±a"
                autocomplete="current-password">
              <button
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility()">
                <span>{{ showPassword() ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</span>
              </button>
            </div>
            @if (getFieldError('password')) {
              <span class="field-error">{{ getFieldError('password') }}</span>
            }
          </div>

          <div class="form-group">
            <label class="checkbox-container">
              <input type="checkbox" formControlName="rememberMe" class="checkbox-input">
              <span class="checkbox-custom"></span>
              <span class="checkbox-label">Recordarme</span>
            </label>
          </div>

          <button
            type="submit"
            class="btn btn-primary btn-full"
            [disabled]="loading()">
            @if (loading()) {
              <span class="btn-spinner"></span>
              Iniciando sesiÃ³n...
            } @else {
              Iniciar SesiÃ³n
            }
          </button>
        </form>

        <div class="login-footer">
          <p>
            Â¿No tienes una cuenta? 
            <a routerLink="/register" class="link">RegÃ­strate aquÃ­</a>
          </p>
          <a href="#" class="link">Â¿Olvidaste tu contraseÃ±a?</a>
        </div>
      </div>
      
      <div class="login-info">
        <div class="info-content">
          <h2>Bienvenido de vuelta</h2>
          <p>
            Accede a tu panel de control para monitorear y gestionar 
            todos tus sistemas de riego inteligente desde un solo lugar.
          </p>
          
          <div class="features-list">
            <div class="feature-item">
              <span class="feature-icon">ğŸ“±</span>
              <div class="feature-text">
                <h4>Control Remoto</h4>
                <p>Gestiona tus sistemas desde cualquier lugar</p>
              </div>
            </div>
            
            <div class="feature-item">
              <span class="feature-icon">ğŸ“Š</span>
              <div class="feature-text">
                <h4>Reportes Detallados</h4>
                <p>Analiza el rendimiento de tus cultivos</p>
              </div>
            </div>
            
            <div class="feature-item">
              <span class="feature-icon">ğŸ””</span>
              <div class="feature-text">
                <h4>Alertas en Tiempo Real</h4>
                <p>Recibe notificaciones instantÃ¡neas</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>