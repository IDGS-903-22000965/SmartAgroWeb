<!-- src/app/components/register/register.html -->
<div class="register-page">
  <div class="register-container">
    <div class="register-background">
      <div class="background-overlay"></div>
    </div>
    
    <div class="register-content">
      <div class="register-form-container">
        <div class="register-header">
          <div class="logo">
            <span class="logo-icon">ğŸŒ±</span>
            <span class="logo-text">SmartAgro</span>
          </div>
          <h1>Crear Cuenta</h1>
          <p>Ãšnete a la revoluciÃ³n de la agricultura inteligente</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
          @if (error()) {
            <div class="alert alert-error">
              <span class="alert-icon">âš ï¸</span>
              {{ error() }}
            </div>
          }

          @if (success()) {
            <div class="alert alert-success">
              <span class="alert-icon">âœ…</span>
              {{ success() }}
            </div>
          }

          <div class="form-row">
            <div class="form-group">
              <label for="nombre" class="form-label">Nombre *</label>
              <div class="input-container">
                <span class="input-icon">ğŸ‘¤</span>
                <input
                  type="text"
                  id="nombre"
                  formControlName="nombre"
                  class="form-input"
                  [class.error]="isFieldInvalid('nombre')"
                  placeholder="Tu nombre"
                  autocomplete="given-name">
              </div>
              @if (getFieldError('nombre')) {
                <span class="field-error">{{ getFieldError('nombre') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="apellidos" class="form-label">Apellidos *</label>
              <div class="input-container">
                <span class="input-icon">ğŸ‘¤</span>
                <input
                  type="text"
                  id="apellidos"
                  formControlName="apellidos"
                  class="form-input"
                  [class.error]="isFieldInvalid('apellidos')"
                  placeholder="Tus apellidos"
                  autocomplete="family-name">
              </div>
              @if (getFieldError('apellidos')) {
                <span class="field-error">{{ getFieldError('apellidos') }}</span>
              }
            </div>
          </div>

          <div class="form-group">
            <label for="email" class="form-label">Email *</label>
            <div class="input-container">
              <span class="input-icon">ğŸ“§</span>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.error]="isFieldInvalid('email')"
                placeholder="tu@email.com"
                autocomplete="email">
            </div>
            @if (getFieldError('email')) {
              <span class="field-error">{{ getFieldError('email') }}</span>
            }
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="telefono" class="form-label">TelÃ©fono</label>
              <div class="input-container">
                <span class="input-icon">ğŸ“±</span>
                <input
                  type="tel"
                  id="telefono"
                  formControlName="telefono"
                  class="form-input"
                  [class.error]="isFieldInvalid('telefono')"
                  placeholder="1234567890"
                  autocomplete="tel">
              </div>
              @if (getFieldError('telefono')) {
                <span class="field-error">{{ getFieldError('telefono') }}</span>
              }
            </div>

            <div class="form-group">
              <label for="direccion" class="form-label">DirecciÃ³n</label>
              <div class="input-container">
                <span class="input-icon">ğŸ“</span>
                <input
                  type="text"
                  id="direccion"
                  formControlName="direccion"
                  class="form-input"
                  placeholder="Tu direcciÃ³n"
                  autocomplete="address-line1">
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="password" class="form-label">ContraseÃ±a *</label>
            <div class="input-container">
              <span class="input-icon">ğŸ”’</span>
              <input
                [type]="showPassword() ? 'text' : 'password'"
                id="password"
                formControlName="password"
                class="form-input"
                [class.error]="isFieldInvalid('password')"
                placeholder="MÃ­nimo 6 caracteres"
                autocomplete="new-password">
              <button
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility('password')">
                <span>{{ showPassword() ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</span>
              </button>
            </div>
            @if (registerForm.get('password')?.value && registerForm.get('password')?.value.length > 0) {
              <div class="password-strength">
                <div class="strength-bar">
                  <div class="strength-fill" [class]="getPasswordStrength()"></div>
                </div>
                <span class="strength-text">Seguridad: {{ getPasswordStrengthText() }}</span>
              </div>
            }
            @if (getFieldError('password')) {
              <span class="field-error">{{ getFieldError('password') }}</span>
            }
          </div>

          <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirmar ContraseÃ±a *</label>
            <div class="input-container">
              <span class="input-icon">ğŸ”’</span>
              <input
                [type]="showConfirmPassword() ? 'text' : 'password'"
                id="confirmPassword"
                formControlName="confirmPassword"
                class="form-input"
                [class.error]="isFieldInvalid('confirmPassword')"
                placeholder="Repite tu contraseÃ±a"
                autocomplete="new-password">
              <button
                type="button"
                class="toggle-password"
                (click)="togglePasswordVisibility('confirmPassword')">
                <span>{{ showConfirmPassword() ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</span>
              </button>
            </div>
            @if (getFieldError('confirmPassword')) {
              <span class="field-error">{{ getFieldError('confirmPassword') }}</span>
            }
          </div>

          <button
            type="submit"
            class="btn btn-primary btn-full"
            [disabled]="loading()">
            @if (loading()) {
              <span class="btn-spinner"></span>
              Creando cuenta...
            } @else {
              Crear Cuenta
            }
          </button>
        </form>

        <div class="register-footer">
          <p>
            Â¿Ya tienes una cuenta? 
            <a routerLink="/login" class="link">Inicia sesiÃ³n aquÃ­</a>
          </p>
        </div>
      </div>
      
      <div class="register-info">
        <div class="info-content">
          <h2>Ãšnete a SmartAgro</h2>
          <p>
            Crea tu cuenta y comienza a disfrutar de todos los beneficios 
            de nuestros sistemas de riego inteligente.
          </p>
          
          <div class="benefits-list">
            <div class="benefit-item">
              <span class="benefit-icon">ğŸ¯</span>
              <div class="benefit-text">
                <h4>Cotizaciones Personalizadas</h4>
                <p>Recibe cotizaciones adaptadas a tus necesidades</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <span class="benefit-icon">ğŸ“</span>
              <div class="benefit-text">
                <h4>Soporte TÃ©cnico</h4>
                <p>Acceso a nuestro equipo de expertos</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <span class="benefit-icon">ğŸ“‹</span>
              <div class="benefit-text">
                <h4>Historial de Compras</h4>
                <p>Gestiona todas tus adquisiciones</p>
              </div>
            </div>
            
            <div class="benefit-item">
              <span class="benefit-icon">ğŸ”§</span>
              <div class="benefit-text">
                <h4>Mantenimiento</h4>
                <p>Programa y gestiona el mantenimiento</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>