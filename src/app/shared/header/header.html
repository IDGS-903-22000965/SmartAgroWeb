<header class="header">
  <nav class="navbar">
    <div class="container">
      <div class="navbar-brand">
        <a routerLink="/" class="brand-link" (click)="closeMenu()">
          <div class="logo">
            <span class="logo-icon">üå±</span>
            <span class="logo-text">SmartAgro</span>
          </div>
        </a>
      </div>
      <button 
        class="mobile-menu-toggle"
        (click)="toggleMenu()"
        [class.active]="isMenuOpen()">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <div class="navbar-menu" [class.active]="isMenuOpen()">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" 
               class="nav-link" (click)="closeMenu()">
              Inicio
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/productos" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
              Productos
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/cotizacion" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
              Cotizaci√≥n
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/testimonios" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
              Testimonios
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/contacto" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
              Contacto
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/faq" routerLinkActive="active" class="nav-link" (click)="closeMenu()">
              FAQ
            </a>
          </li>
        </ul>
        <div class="navbar-user">
          @if (isAuthenticated()) {
            <div class="user-menu">
              <div class="user-avatar">{{ getUserInitials() }}</div>
              <div class="user-dropdown">
                <div class="user-info">
                  <span class="user-name">{{ currentUser()?.nombre }} {{ currentUser()?.apellidos }}</span>
                  <span class="user-email">{{ currentUser()?.email }}</span>
                </div>
                <div class="user-actions">
                  @if (isAdmin()) {
                    <a routerLink="/admin" class="dropdown-link" (click)="closeMenu()">
                      <span class="icon">‚öôÔ∏è</span>
                      Panel Admin
                    </a>
                  }
                  @if (isCliente()) {
                    <a routerLink="/cliente" class="dropdown-link" (click)="closeMenu()">
                      <span class="icon">üë§</span>
                      Mi Cuenta
                    </a>
                  }
                  <button class="dropdown-link logout-btn" (click)="logout()">
                    <span class="icon">üö™</span>
                    Cerrar Sesi√≥n
                  </button>
                </div>
              </div>
            </div>
          } @else {
            <div class="auth-buttons">
              <a routerLink="/login" class="btn btn-outline" (click)="closeMenu()">
                Iniciar Sesi√≥n
              </a>
              <a routerLink="/register" class="btn btn-primary" (click)="closeMenu()">
                Registrarse
              </a>
            </div>
          }
        </div>
      </div>
    </div>
  </nav>
</header>